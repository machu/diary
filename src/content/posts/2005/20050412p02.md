---
title: coLinux で Debian
date: 2005-04-12T00:00:00.000Z
lastmod: 2005-05-10T07:56:19.000Z
draft: false
tags:
  - Debian
---

先日に続き、今度は coLinux で Debian を動かす。 こっちは会社のノートPC。 メインで使うのでコンパイルせずに使える Debian を選択。

基本的なインストール手順は Gentoo の時と同じ。

#### パーティションの作成

coLinuxを起動する前に、Windows XP のコマンドで SWAP 領域と HOME 領域を作成する。

```
> fsutil file createnew swap.img 134217728
> fsutil file createnew fc1_ext3_home 1073741824
```

で、 default.colinux.xml に作成した領域を指定しておく。

```
<block_device index="0" path="\DosDevices\c:\Program Files\coLinux\root.img" enabled="true" />
<block_device index="1" path="\DosDevices\c:\Program Files\coLinux\swap.img" enabled="true" />
<block_device index="2" path="\DosDevices\c:\Program Files\coLinux\fc1_ext3_home" enabled="true" />
```

coLinux 起動後の /dev/cobd0〜2 が上記パーティションに対応する。 下記のコマンドでSWAPとHOME領域を作成する。

```
# mkswap /dev/cobd1
# swapon /dev/cobd1
# mke2fs -j /dev/cobd2
# mount /dev/cobd2 /home
# editor /etc/fstab
/dev/cobd1              swap                    swap    defaults        0 0
/dev/cobd2              /home                    ext3    defaults        1 1
```

#### ネットワーク設定

TAPやWinPCAPについては省略。 下記のファイルを編集し、IPアドレスとDNSサーバを指定。

```
# editor /etc/network/interfaces
# editor /etc/resolv.conf
```

ネットワークの停止・起動は下記のコマンド。

```
# ifdown eth0
# ifup eth0
```

この辺は、GentooとDebianで使い方の違うところ。

#### apt-get の設定

apt-get をプロキシ環境で使う場合は、環境変数に下記を指定しておく。

```
export http_proxy=http://プロキシサーバ名:ポート番号
export ftp_proxy=http://プロキシサーバ名:ポート番号
```

#### sargeへのアップグレード

ごめん。力尽きた。[後で追記](/posts/20050414/p01)するよ…。
