---
title: trac の日本語化
date: 2005-10-28T00:00:00.000Z
lastmod: 2006-03-03T09:56:34.000Z
draft: false
tags:
  - FreeBSD
  - Subversion
  - trac
---

tracはデフォルトのままだと、リポジトリに保存したソースコードの日本語が文字化けしてしまう。 python の文字コード関連ライブラリを入れることで、文字化けを回避することができるみたい。 [Debianだとpython-japanese-codecs](http://www.live-emotion.com/diary/?date=20050905)。 FreBSD は、 converters/py-cjkcodecs というパッケージらしい。

```
$ cd /usr/ports/converters/py-cjkcodecs
$ sudo make
$ sudo vi /usr/local/var/trac/flickr_plugin/conf/trac.ini
```

trac.ini には、

```
default_charset = euc_jp
```

と記述する（ソースコードがEUC-JPで書かれている場合ね）。 複数の文字コードが混在する場合は、「[Subversion 側で各ファイルの svn:mime-types 属性に charset を正しく設定することで解消する可能性が高い](http://www.meadowy.org/meadow/netinstall/wiki/TracJa)」らしい。

最後に、[tracの日本語テンプレート](http://www.i-act.co.jp/project/products/products.html)を導入して、tracのメニューやメッセージを日本語化する。 現時点では、0.8.4に対応するテンプレートが公開されている。 手順は、[Tracのインストールと日本語化](http://idm.s9.xrea.com/ratio/2005/09/11/000253.html)が参考になるかも。

テンプレートの入れ替えは、 trac-admin \[pjname] initenv を実行する前にやっておく必要があるので注意。
