---
title: サーバセットアップ
date: 2005-09-23T00:00:00.000Z
lastmod: 2014-08-21T14:16:26.000Z
draft: false
tags:
  - FreeBSD
---

Gentoo, Debian に続いて FreeBSD の話。 そろそろカテゴリ分けに失敗したような気がしてきた。

それはそうと、これまで借りていたさくらのサーバに続いて、[VPS7](http://www.vps7.net/)というところに新しくサーバを借りた。 仮想専用サーバという、物理的には1台のサーバだけど、仮想的に複数のサーバに分ける構成をとっているらしい。 使う側からすると、専用サーバのように見える。

OS は FreeBSD でさくらと同じ。 さくらのときは1ユーザとしてしか使っていなかったので、特に FreeBSD を意識していたわけじゃなかった。 でも、今回はサーバのセットアップから自分でやる（初期状態である程度は使えるようになっているけど）ので、いろいろ勉強しなきゃいけない。

以下、覚えている限りメモ。

#### ユーザの追加

何はなくともユーザの追加から。

```
/usr/sbin/adduser machu
```

ホームディレクトリの .ssh/authorized\_keys に公開鍵を置く。

#### シェル環境の充実

次はシェル周りの環境を作る。 FreeBSD では ports/packages というパッケージ管理を使うらしい。 ports は Gentoo の portage みたいなもの（というか、portage が ports を参考にしている）で、package はそのバイナリ版。

zsh と sudo を package から入れる。

```
# pkg_add -r zsh
# pkg_add -r sudo
```

次に screen を ports から入れる。 まず、[portsの使い方](http://iris.homeunix.net/yayoi/freebsd/basic/ports.asp)を読んでなんとなく理解する。

whereis コマンドを使うと、そのコマンドが入っている ports が分かるらしい。

```
# whereis screen
/usr/ports/misc/screen
# cd /usr/ports/misc/screen
# make configure
# make
# make install
```

インストールしたパッケージの一覧は、

```
# pkg_info -L screen-4.0.2_1
```

とすることで見ることができる。
