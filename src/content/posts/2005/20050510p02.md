---
title: EUC-JP と UTF-8
date: 2005-05-10T00:00:00.000Z
lastmod: 2006-08-12T13:25:45.000Z
draft: false
tags:
  - memo
---

[詠聞録ことのはレイディオ](http://kotonoha.main.jp/2005/05/09charactercode.html)より。 Ajax（XMLHttpRequest）は UTF-8 で情報をやり取りするので、ページ自体も UTF-8 にしてしまった方が作るのは楽……なんだけど、UTF-8 だと IE にバグがあるんだよね。

[リンクをクリックすると文字のサイズが中に戻る](http://support.microsoft.com/default.aspx?scid=kb;ja;896315)

> UTF-8でエンコードされたページからリンクをクリックして他のページに移動しようとした場合に、文字サイドが中に戻る場合があります。

ここでは、「リンク先がファイルをダウンロードするようになっている場合に発生」って書いてあるけど、そうじゃない場合でも発生するみたい。 （リンクをクリックした瞬間に文字のサイズが変わる経験ありませんか？）

そんなこんなで、サンプルのチャットはページが EUC-JP で、 XMLHttpRequest での通信が UTF-8 を使うようにしている。
