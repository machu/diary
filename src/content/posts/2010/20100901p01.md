---
title: さくらのVPSを契約した
date: 2010-09-01T00:00:00.000Z
lastmod: 2010-09-05T12:03:46.000Z
draft: false
tags:
  - sakura
---

さくらインターネットから、[さくらのVPS](http://vps.sakura.ad.jp/)が提供されるようになったので、すぐに申し込んだ。 2年前から [CPI のVPS](https://www.machu.jp/diary/20080919.html) を使っていたけど、スペックが上がって値段が安いとなれば、乗り換えるしかない。

軽く使ってみたけど、かなり好印象。

* 初期費用が0円
* 登録してから5分でIPとrootパスワードが発行されてログイン可能に
* シリアルコンソールから接続できるので， CentOS 以外の OS もインストール可能
  * いずれは公式に debian, ubuntu のインストールもサポートされるらしい
* スワップ領域が2GBある。メモリ不足でプロセスが落ちることが無くなりそう。
* ネットワーク・CPUともに高速。

今日の作業メモ。

* [さくらのVPSにUbuntu 10.04 LTSをインストールしてみた](http://d.hatena.ne.jp/rsky/20100805/1280997774)を参考に Ubuntu 10.04.1 LTS をインストール
* /etc/ssh/sshd\_config を変更し、パスワードでの ssh 接続を禁止

```
--------------------------------------------------------------------------
--- sshd_config.20100901        2010-09-01 20:48:54.325672735 +0900
+++ sshd_config 2010-09-01 20:59:16.838157413 +0900
@@ -23,7 +23,7 @@
 
 # Authentication:
 LoginGraceTime 120
-PermitRootLogin yes
+PermitRootLogin no
 StrictModes yes
 
 RSAAuthentication yes
@@ -47,7 +47,7 @@
 ChallengeResponseAuthentication no
 
 # Change to no to disable tunnelled clear text passwords
-#PasswordAuthentication yes
+PasswordAuthentication no
 
 # Kerberos options
 #KerberosAuthentication no
```

* 日本語ロケールをインストール。

```
$ sudo apt-get install language-pack-ja
```

パッケージで zsh, vim, apache2, ruby1.8.7, git-core, subversion をインストール。 さらに、 rvm を入れて ruby1.8.7 と 1.9.2 をコンパイル。 サービス開始直後だからか、パッケージのダウンロードがあっという間に終わるなど、ネットワークの速度に驚く。

ちょうど今使っている VPS の更新時期なので、月末までにさくらのVPSへ徐々に移行していく予定。
