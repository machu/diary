---
title: 日本RubyKaigi2010 3日目
date: 2010-08-29T00:00:00.000Z
lastmod: 2010-08-30T15:59:14.000Z
draft: false
tags:
  - RubyKaigi
---

いよいよ最終日。 午前中は大ホールでNiftyクラウド、分散ストレージ、RWiki、MongoDBと、クラウドシリーズの話を聞いた。 印象に残ったのは Nifty さんの「サーバ生成が5分でできます」というスライド。 初日のesmセッションといい、文字通りスピードの桁が違うよねぇ。 MongoDBはコンセプトがしっかりしていて面白そう。 Heroku でも対応しているようなので、 tDiary がクラウド対応するときには使うことになるかな。

お昼休みは asakusa.rb とお隣の COOKPAD セミナーをちょこちょこ覗いたり。 asakusa.rb では初日に講演されていた @sarahmei さんに jasmine について教えてもらおうと思っていたけど、 Rails3 の基調講演が開催されていたので、お願いして別に時間を取ってもらうことにした。

![日本RubyKaigi2010](@/assets/flickr/4942005768.jpg "日本RubyKaigi2010")

COOKPAD セミナーは立ち見がでるほどの賑わい。 Rails での大規模サイトの事例だけあって、なるほどというテクニックが惜しみなく公開されていて素晴らしかった。 「一年でもっともアクセスが多いのはバレンタインデー前」とのこと。ユーザー層が良く分かるなぁ。 うちの食卓でもお世話になっています。

午後は前述の @sarahmei さんに jasmine についていろいろと質問。 [jasmine](http://pivotal.github.com/jasmine/user-guide.html) は JavaScript 用のテストフレームワーク。 RSpec 風に書けるのが特徴。 esm さんのセッションでも使っていた pivotal tracker の開発元 (Pivotal Labs) がメンテしている。 調べてみたら、 Pivotal Labs は昔 JSUnit のメンテをしていたみたいで、いまは jasmine に移行しているようだった。 午前中に jasmine を使って tDiary の下書きプラグインのテストを書いていたんだけど、そのときに出てきた疑問を質問した。

* Q. $(function() { var Draft; }) と、 jQuery の ready 関数内で定義したオブジェクトのテスト方法は？
* A. グローバルにtDiary.Draftと定義するといいよ。（プロダクト名をグローバルな名前空間として使う）

- Q. jQuery のような外部ライブラリを組み込んでテストするには？
- A. jasmine.ymlの src\_files で指定する。ただし <http://> 指定は不可で、ローカルに jQuery.js を配置する必要あり。
  * 理由を聞いたら src\_files にはdist/\*\*/\*.js のようにワイルドカード指定を許容しており、これを Dir.glob で読み込んでいるかららしい。

* Q. jasmine はモデルのテストを書けるようだけど、ビューのテストは可能？
* A. [jasmine-jquery](http://github.com/velesin/jasmine-jquery) の fixture を使えば、 HTML の断片を組み込むことができる。

おかげでだいたい、 jasmine の使い方が分かった。 つたなすぎる英語での質問だったけど、根気よくかつ丁寧に答えてくれた @sarahmei さんに感謝。

その後は中ホールで @hsbt さんの [How to survive in post Rails' world.](http://www.hsbt.org/diary/20100829.html#p02) というプレゼン。 世代や技術の壁をどのように乗り越えればいいのかについて、技術だけでなく、人と人との繋がりの大切さや自分の行動指針へも言及した、非常に良いプレゼンだった。 個人的には3日間のプレゼンの中で一番共感できたんだけど、世代的に近い（tDiary, Hiki, 影舞世代）からか。

そのまま中ホールで kwatch さんのプレゼンを聞き、途中から大ホールで @kakutani さんのプレゼンを聞いた。 kwatch さんのプレゼンも最後まで聞きたかったんだけど、ここは悩ましい選択だった。 @kakutani さんのプレゼンでは、赤の薬と青の薬のどちらを選ぶか、というスライドが一番心に響いた。考えさせられる一枚（このスライドは以前に見たことがあったけど、生で聞くとやっぱり違う）。

最後の基調講演は断念して、ここで帰路へ。2時間ほどで無事に帰宅できた。

#### 感想

2007年以来の RubyKaigi への参加だった。 情報を仕入れるだけなら、 ust や twitter でも事足りる時代なのに、なぜ RubyKaigi に行くんだろう？と自分で自分に尋ねてみた。 答えは、「会って話がしたいから」だった。 Ruby そのもの以上に、 Ruby を取り巻く人たちそれぞれの考え方を知りたかったからだろうと思う。 ちょっとのご挨拶しかできなかった方も、またお会いしましょう。

3日目後半のセッションは、それぞれが自分にできることをやっていきましょうというメッセージだと受け取ったので、僕も僕にできることをできる範囲でやっていこうと思いました。

そういえば、ジュンク堂の出張本屋さんに並べられた Ruby 本を見ながら、僕が Ruby を始めた頃（2004年）のことを思い出していた。 あの頃は数えるほどしか本が無かったのに、今ではこんなにたくさんの本が出ているんだなぁ。

![日本RubyKaigi2010](@/assets/flickr/4941384137.jpg "日本RubyKaigi2010")

スタッフ・発表者・参加者の皆様、本当にありがとうございました。お疲れ様でした。
