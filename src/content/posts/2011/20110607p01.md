---
title: 人気の日記プラグインをJavaScript化
date: 2011-06-07T00:00:00.000Z
lastmod: 2011-06-07T15:16:13.000Z
draft: false
tags:
  - tDiary
---

[tDiaryのJavaScript比重を高める計画(というほどのものではないけど) - ただのにっき(2011-06-07)](http://sho.tdiary.net/20110607.html#p01) より。

> tDiaryはまだまだCGIとして動かせるようにしておく以上、サーバサイドでの処理は少なければ少ないほど良い(といっても限度はあるが)。検索エンジンbot向けに必要なテキスト以外はできるだけJavaScriptに追い出すべきだろう。

なるほど。 自作のプラグインだと、はてなブックマークの人気エントリを表示する[人気の日記プラグイン](/posts/20071206/p02)などはJavaScript化できそう。

今は日記の更新時にエントリ一覧を取得してPStoreに保存。 日記を表示するときにPStoreから復元してサイドバーに表示している。 これを、日記の更新時にJSON形式で別ファイルに保存しておけば、クライアントサイドから取得できる。

さてJavaScript化しようと思ったら、[はてな公式のブログパーツ](http://b.hatena.ne.jp/guide/blogparts)が提供されていることに気がついた。 2005年にプラグインを作った時はなかったけど、そりゃそうだよね。今はあるよね…。 という訳で、今回は人気の日記プラグインの代わりにブログパーツを使うことでおしまい。
