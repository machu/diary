---
title: 3分FTPクッキング (2)
date: 2004-02-23T00:00:00.000Z
lastmod: 2004-02-24T01:57:08.000Z
draft: false
tags:
  - Gentoo
---

[昨日の追記](/posts/20040222/p01)に書いた件、ちょっと訂正。

> ftpユーザのログインシェルを /bin/false から /bin/passwd へと変更する（でないとftpでもログインできない）

まず、 /bin/passwd ではなく、 /usr/bin/passwd 。 それから、 /usr/bin/passwd が /etc/shells に登録されていないといけない。

まぁ、ログインシェルは /bin/bash などでもいいのだが、 /usr/bin/passwd にしておけばsshログインは許可せずにパスワードの変更のみを可能にできる。

で、実際の手順はこんな感じ。

```
# echo '/usr/bin/passwd' >> /etc/shells
# usermod -s /usr/bin/passwd ftp
```
