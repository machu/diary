---
title: extconf.rb on AIX
date: 2004-12-02T00:00:00.000Z
lastmod: 2004-12-21T04:58:35.000Z
draft: false
tags:
  - Ruby
---

[先日](/posts/20041130/p01)、 gonzui を使うために BDB ライブラリをコンパイルしようとして失敗したけど、 src/mkmf.log というログファイルが残っていた。

```
have_library: checking for db_version() in -ldb-4.3... -------------------- no

"gcc -brtl -bI:/home/********/src/bdb-0.5.3/src/ruby.imp -bM:SRE -T512 -H512
-oconftest -I/home/********/src/bdb-0.5.3/src
-I/usr/local/lib/ruby/1.8/powerpc-aix5.2.0.0
-I/usr/local/include  -g -O2 conftest.c  -L"/usr/local/lib" -L"/usr/local/lib"
-lruby-static -ldb-4.3  -ldl -lcrypt -lm   -lc"
gcc: couldn't run `M:SRE-gcc-3.3.2': No such file or directory
```

Berkeley DB 側ではなくて、 BDB ライブラリもしくはインストーラ (extconf.rb) の問題っぽい。 [\[ruby-dev:20634\]](http://blade.nagaokaut.ac.jp/cgi-bin/vframe.rb/ruby/ruby-dev/20634?20570-21152)や「[AIX上でのGCCの使い方のコツ](http://www-6.ibm.com/jp/servers/aix/developer/tech/gcc.shtml)」が参考になる…のかな。 このレベルだと完全にお手上げ。勉強しないと。

ちなみに、 [mkmf](http://www.ruby-lang.org/ja/man/index.cgi?cmd=view;name=mkmf.rb) は Makefile を作るためのライブラリらしい。
