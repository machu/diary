---
title: ViViから日記を更新
date: 2004-01-26T00:00:00.000Z
lastmod: 2014-05-06T21:17:57.000Z
draft: false
tags:
  - tDiary
---

[ラウンジ - テキストエディタViVi関連スレ](http://do.sakura.ne.jp/~junkroom/cgi-bin/megabbs/readres.cgi?bo=lounge\&vi=1071331400\&res=17)にViViからtDiaryの更新ができるスクリプトが投稿されていた。おおっ、さっそく使ってみよう。

ということで、今日の日記は[ViVi](http://vivi.dyndns.org/)を使って書いている。とてもいい感じなんだけど、少し気になる点もあるんだよね。

（以下 :exmap diary run edittdiary と仮定）

* 入力するパスワードがマスクされずに表示される ^^;
* :diary とすると、edittDiary.tmpがロードされた時点でViViがクラッシュすることがある。
* :diary edit -> :diary post の順番だと更新できるが、 :diary -> :diary post の順番だと更新できない（フォームを読みにいったまま止まってしまう）。
* 更新用CGI (upload.rb) のファイル名を変更していると、edittDiary.vvsに修正が必要。

```
-thisView.viCommand( ":e http://" + uri.trimRight("update.rb") +
+thisView.viCommand( ":e http://" + uri.trimRight("update.cgi") +
```

特に、パスワード丸見えとクラッシュするのはイタい。しばらく使いながら、原因を調べてみよう。
