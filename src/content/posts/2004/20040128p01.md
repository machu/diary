---
title: Postfix (3)
date: 2004-01-28T00:00:00.000Z
lastmod: 2004-02-06T00:16:28.000Z
draft: false
tags:
  - Gentoo
---

少々時間が空いたが、[前回](/posts/20040112/p01)の続き。 どうやら、fetchmailを使うためにはローカルにSMTPサーバが起動していないといけないようなので、Postfixをデーモンとして動作させる。

```
# /etc/init.d/postfix start
 (うまく動いたらdefault runlevelに追加する予定）
```

ところが、 telnet localhost 25 としても反応がない。 /var/log/mail.log を見ると、こんなエラーがでていた。

```
Jan 28 00:06:49 lavie postfix/local[25981]: fatal: open database /etc/mail/aliases.db: No such file or directory
```

しばらく悩んだのだけど、 /usr/bin/newaliases を実行しなければいけないことが判明（参考: [Postfixのインストールと設定](http://www.aritia.org/hizumi/dsl/page_02.htm)）。これで無事に応答するようになった。

```
$ telnet localhost 25
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
220 lavie.machu.jp ESMTP Postfix
HELO machu
250 lavie.machu.jp
QUIT
221 Bye
Connection closed by foreign host.
```

今日はここまで。時間を見つけて、[BitChannel](http://www.machu.jp/b/PostfixInstallation.html)にも追記していきます。

#### 追記

ちゃんと動作したようなので、default runlevelに追加

```
$ sudo /sbin/rc-update add postfix default
 * postfix added to runlevel default
 * Caching service dependencies...                 [ ok ]
 * rc-update complete.
```
