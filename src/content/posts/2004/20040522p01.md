---
title: CVS HEAD & xrea対応 (2)
date: 2004-05-22T00:00:00.000Z
lastmod: 2004-05-23T11:59:39.000Z
draft: false
tags:
  - BitChannel
---

あおきさんから、CGI.mainの引数にconfigを渡せるように変更したとの[ツッコミ](https://www.machu.jp/diary/20040514.html#c01)を頂いた（ありがとうございます）。

これで、BitChannelのCVS HEADにて BitChannel を NPH 対応するためには、 index.cgi を nph-index.cgi にリネームして以下の変更を加えるだけでよくなった。

```
 load './bitchannelrc'
 setup_environment
 require 'bitchannel/cgi'
-BitChannel::CGI.main bitchannel_context()
+BitChannel::CGI.main(bitchannel_context(), { :NPH => true })
```

もちろん、[先日の日記](/posts/20040514/p01)に書いた、 lib/bitchannel/cgi.rb の変更は不要。
