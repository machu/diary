---
title: Perlクイズ de Ruby
date: 2004-04-24T00:00:00.000Z
lastmod: 2004-04-25T16:01:25.000Z
draft: false
tags:
  - memo
---

勉強を兼ねて、結城さんの[Perlクイズ](http://www.hyuki.com/pq/)にRubyで挑戦。 選んだのは、[カッコの対応を調べる問題](http://backno.mag2.com/reader/BackBody?id=200403182100000000015670000)。 元の問題に加えて、複数のカッコの種類に対応できるようにした。

```
def balanced?(str)
   lsym = "<[{("
   rsym = ">]})"
   stack = []
   str.each_byte do |char|
      char = char.chr
      if lsym.include?(char)
         stack.push(char)
      elsif rsym.include?(char)
         top = stack.pop
         return 0 unless top
         return 0 if rsym.index(char) != lsym.index(top)
      end
   end
   stack.empty? ? 1 : 0
end
```

かなりストレートな解法になってしまった。 Perlクイズの解答編を見ると、みなさんスマートな答えを出されている。 さすがだなぁ。
