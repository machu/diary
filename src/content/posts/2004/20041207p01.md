---
title: PukiWiki の負荷軽減
date: 2004-12-07T00:00:00.000Z
lastmod: 2014-03-12T16:49:23.000Z
draft: false
tags:
  - memo
---

PukiWiki では、 Last-Modified ヘッダを出力することでサーバの負荷軽減を図れる…と思っていた。だけど、 GET と HEAD にかかわらずページ本体を生成しているとしたら、負荷軽減になるのはネットワークだけで、サーバの負荷は変わらないなぁ。

tDiary は、[HEAD リクエスト時の負荷軽減](http://www.tdiary.org/archive/devel/msg00822.html)をやっているようだけど、 PukiWiki はどうなんだろう。

ちなみに Firefox でアクセスするとこうなった。 GET, HEAD じゃなくて、 If-Modified-Since を使うのか（当たり前か）。 これをアプリ側で処理するのは、あまり効果がない…のかな？

```
GET / HTTP/1.1
Host: wolfbbs.halfmoon.jp
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; ja-JP; rv:1.7.5) Gecko/20041108 Firefox/1.0
Accept: text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,* /*;q=0.5
Accept-Language: ja,en-us;q=0.7,en;q=0.3
Accept-Encoding: gzip,deflate
Accept-Charset: Shift_JIS,utf-8;q=0.7,*;q=0.7
Keep-Alive: 300
Proxy-Connection: keep-alive
If-Modified-Since: Mon, 06 Dec 2004 15:15:03 GMT
Cache-Control: max-age=0

HTTP/1.x 304 Not Modified
Date: Tue, 07 Dec 2004 01:49:30 GMT
Cache-Control: no-cache
Server: Apache/1.3.33 (Unix)
Via: ********************
X-Cache: MISS from ******************
Proxy-Connection: keep-alive
```
