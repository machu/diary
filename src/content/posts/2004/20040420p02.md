---
title: scmailの振り分けルール
date: 2004-04-20T00:00:00.000Z
lastmod: 2004-04-21T16:10:55.000Z
draft: false
tags:
  - Gentoo
---

scmailでメールを振り分けているんだけど、 以下のルールをどうやって書けばいいのか分からない。

* to のユーザ名（@より前）を元に、ユーザ名@localhost に転送（Redirect）する
  * toが machu\@example.com だったら machu\@localhost に転送

とりあえずこんな風に書いてみたけど、マッチした文字が\\\1として展開されないんだよねぇ。

```
'(to
  (#/^([^@]+)/ (redirect "\\1@localhost")))
```

ちなみに、サンプルに載っているこっちはうまくいく。

```
'(list-id
  (#/<([-\w]+)/  ".ml.\\1"))
```

1時間頑張ったけど分からなかったので今日はおしまい。 ちゃんとGaucheを勉強しろってことかな…。
