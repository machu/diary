---
title: カテゴリ機能の強化 (8)
date: 2004-04-18T00:00:00.000Z
lastmod: 2014-02-07T05:29:28.000Z
draft: false
tags:
  - tDiary
---

[先日の日記](/posts/20040415/p01)に書いたように、 <%= category_navi > には期間のみを表示し、 <%= category_list > には全カテゴリを表示する ALL を追加した。

category.rb の変更点は以下の通り。

```
 def category_list
        info = Category::Info.new(@cgi, @years, @conf)
-       @categories.map do |c|
+       (['ALL'] + @categories).map do |c|
                info.category = c
                info.make_anchor
        end.join(" | \n")
```

<%= category_navi > のほうは設定画面で「全カテゴリ」のラベルを空にすると表示されなくなった。
