---
title: CVS HEAD & xrea対応
date: 2004-05-14T00:00:00.000Z
lastmod: 2004-07-05T03:43:09.000Z
draft: false
tags:
  - BitChannel
---

うちで動かしているBitChannelをCVS HEADに追随した。 xreaではCGIを[NPH化](/posts/20040116/p01)する必要がある。BitChannelの最新版では[WebRickベース](http://i.loveruby.net/d/?date=20040426#p01)になっているため、NPH化の方法が若干異なる。

具体的には、 lib/bitchannel/cgi.rb を以下のように変更。

```
 module BitChannel
   class CGI < WEBrick::CGI
     def CGI.main(wiki)
-      super({}, wiki)
+      super({ :NPH => true }, wiki)
     end

     def init_application(wiki)
```

そして、index.cgi を nph-index.cgi にリネームすればよい。

#### 追記

最新版（5月22日時点）では、[index.cgiの変更](/posts/20040522/p01)だけでよくなっています。
