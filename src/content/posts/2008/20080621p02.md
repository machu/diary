---
title: tDiary を trunk へアップデート
date: 2008-06-21T00:00:00.000Z
lastmod: 2008-06-21T14:05:08.000Z
draft: false
tags:
  - tDiary
---

少し時間ができたし、今日は RubyKaigi2008 の日なので、 tDiary を trunk にアップデートした。 これで日記の文字コードが UTF-8 になったよ。 以下、アップデートのポイント。

* 事前に tDiary のデータをバックアップしておく
* tDiary 本体はソースを更新すればデータも自動的に UTF-8 に更新される
* contrib の Plugin は coderepos から取得する
* キャッシュ系はクリアした方がよさそう。カテゴリとか。

本体のプラグインディレクトリ (misc/plugin) と、 contrib のプラグインディレクトリを分けておいたので、移行は楽だった。 ちなみに、複数のプラグインディレクトリを混在させるには、 tdiary.conf に以下のように書いておけば OK 。

```
@options['sp.path'] = ["#{TDiary::PATH}/misc/plugin", "#{TDiary::PATH}/misc/plugin-contrib"]
```
