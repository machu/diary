---
title: Mac OS X に PostgreSQL
date: 2008-07-01T00:00:00.000Z
lastmod: 2008-07-01T00:02:57.000Z
draft: false
tags:
  - postgresql
---

Rails でアプリを作る時は sqlite3 を使っているけど、もう少し本格的なデータベースを使ってみることにした。 SQL の負荷を調べてみたいってのもある。 さくらのレンタルサーバや地名しりとりでは MySQL を使っていたので、ここでは未経験の PostgreSQL を使うことにする。

#### インストール

MacPorts を使ってインストールする。楽だな。

```
$ sudo port install postgresql83
$ sudo port install postgresql83-server
```

#### 自動起動の設定

インストール時に表示されるメッセージに従って、 PostgreSQL サーバを自動起動するように設定。

```
$ sudo launchctl load -w /Library/LaunchDaemons/org.macports.postgresql83-server.plist
```

#### データベース領域の作成

同じくインストール時のメッセージに従って、データベースの領域を作成する。 postgres:postgres というユーザとグループを使う。

```
$ sudo mkdir -p /opt/local/var/db/postgresql83/defaultdb
$ sudo chown postgres:postgres /opt/local/var/db/postgresql83/defaultdb
$ sudo su postgres -c '/opt/local/lib/postgresql83/bin/initdb -D /opt/local/var/db/postgresql83/defaultdb'
```

データベース領域が作られていることを確認。 ディレクトリの中身は、まだ空。

```
$ ls -l /opt/local/var/db/postgresql83
total 0
drwxr-xr-x  2 postgres  postgres  68  7  1 08:14 defaultdb/
```

#### 管理ツール

せっかく GUI が使える環境にあるので、コマンドラインから操作するんじゃなくて GUI の管理ツールを使ってみる。 WEB+DB PRESS の Val.43 を読むと pgAdminIII というツールがあるらしい。 MacPorts にも入っていたので入れてみる。

```
$ sudo port install pgadmin3
```

さすが GUI のツールだけあって、関連するライブラリが多い。 いまはライブラリのコンパイル中。

（続く）

#### 参考

* [Hot Linux - PostgreSQLのインストール-MacPorts編](http://www.hot-linux.org/osx/?rec_no=139)
