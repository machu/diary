---
title: 久しぶりに Mac を使ったら
date: 2009-08-13T00:00:00.000Z
lastmod: 2009-08-14T13:17:50.000Z
draft: false
tags:
  - Mac
  - Ruby
---

久しぶりに Ruby で遊んでみようかと、軽い気持ちで Mac を起動したら大変なことに…。

* [Sinatra というフレームワークが面白い](http://d.hatena.ne.jp/shunsuk/20090422/1240401592)らしい。
* gem でインストールしてみるか。そういえば gem で入れたパッケージ更新してないな。
* sudo gem update を実行。以下のエラーが発生。

```
ERROR:  While executing gem ... (Gem::InstallError)
    hoe requires RubyGems version >= 1.3.1
```

* RubyGems のバージョンは 1.2.0 か。 MacPorts でアップデートってどうやるんだっけ。
* [HowTo/UseMacPorts](http://lapangan.net/darwinports/index.php?HowTo%2FUseMacPorts)を読む。 [port selfupdate を実行しないと最新の ports をダウンロードできない](http://googlewhacks.blogspot.com/2009/03/macportsselfupdate.html)のか。
* 毎回 selfupdate を実行するのは忘れそうだし面倒。 cron で自動化するかな。
* Mac だと [cron は古くて launchd の時代](http://d.hatena.ne.jp/zariganitosh/20090308/1236539611) なのか。
* launchd でジョブを設定するために[Lingon](http://sourceforge.net/projects/lingon/)をインストール。
* 設定項目が多くて挫折。ちゃんと使い方を理解しないと危険そう。
* 結局、 /private/etc/periodic/weekly に 400.portupdate というファイルを作成した。なんで /etc/cron.weekly じゃないんだろ。

```
#!/bin/sh
port selfupdate
```

* port で RubyGems の 1.3.4 をインストールしようと試みるが、以下のエラーが発生。

```
Command output: ERROR:  While executing gem ... (OptionParser::InvalidOption)
    invalid option: --vendor requires ruby 1.8.7+ (you have 1.8.6.111)
```

* 1.8.6 から 1.8.7 に更新しなきゃダメか。うう、 Ruby のコンパイルからやり直しなのか… ＜ イマココ

やっぱり、新しいモノを試すのなら vmware fusion 上に Ubuntu を入れた方が楽かもなぁ。
