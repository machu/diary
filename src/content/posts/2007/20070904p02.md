---
title: tDiary とツッコミ SPAM
date: 2007-09-04T00:00:00.000Z
lastmod: 2007-09-16T07:48:08.000Z
draft: false
tags:
  - tDiary
---

[hsbtさんの日記](http://www.hsbt.org/diary/20070904.html#p01)経由で[tDiaryによる某php関連日記のフィード購読を取り止め](http://www.ryo.com/ryo/2007/08/29/346/)を読んだ。

> コメントスパムが多いので、tDiaryで運営されてる某php関連日記の購読を取り止めました
>
> 通常読んでいるブログにコメントスパムが多くても見なけりゃいいだけなんで関係ないんだけど、tDiaryの仕様なのかコメントも１エントリとしてRSSフィードに含まれるため、フィードリーダで読むと大変うざったいことになるのです

これは2つの要因が絡んでいる。

1. tDiary の設置者がSPAM対策をしていない
2. tDiary がツッコミをRSS配信する

根本的な問題は前者だけど、[SPAM 対策版の2.2](http://sho.tdiary.net/20070223.html#p01)がまだ出ていないので、対策が難しい人もいるのかもしれない。 [自分が配信してる feed を確認](http://www.hsbt.org/diary/20070904.html#p01)するのは当然（日記を書いたらWebブラウザで読むのと同じ）だとして、SPAM対策が難しい人は（場当たり的な対処だけど）ツッコミのRSS配信をオフにしたほうが幸せになれると思う。

※ 当然、ツッコミをRSS配信するtDiaryが悪いというわけじゃないので。念のため。

#### 僕の場合

[一年前](/posts/20060828/p01)から、「日本語を含まないコメントを禁止」することでSPAMを防いでいた。 さらに、1ヶ月以上前の日記へのツッコミは非表示＆メール送信としておき、手動でSPAM以外のツッコミを表示するようにしていた。

だけど、最近になってツッコミの末尾に日本語を含むSPAMが登場して、これが破られるようになった（正確には1ヶ月以上前の日記へのツッコミSPAMなので、自動的に非表示となりRSSには載らない）。 ってことで、[hide-mail-fieldプラグイン](http://sho.tdiary.net/20070223.html#p01)を使った対応へと切り替えた。 このプラグインを使うときは、[ヘルプの説明を読む](http://sho.tdiary.net/20070223.html#c03)ことが大切。

切り替えてからはSPAMは来なくなったけど、近いうちにCSSを解釈し非表示フィールドを空にするSPAMが現れそうな気もする。
