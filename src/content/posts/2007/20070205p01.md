---
title: OpenID とか認証APIとか
date: 2007-02-05T00:00:00.000Z
lastmod: 2007-02-06T00:51:26.000Z
draft: false
tags:
  - OpenID
---

[ここギコさんとこ](http://kokogiko.net/m/archives/001898.html)で、Yahoo USAのID を OpenID に変換してくれる[プロキシサイト(idproxy.net)](http://idproxy.net/)が紹介されてた。

> 誰かidproxy.netと同様のやり方で、はてな認証APIのOpenIDプロキシ作りまへんかー

ということで、OpenIDプロキシがあると何が嬉しいかよく分からなくなったので、絵にしてみた。 あくまでたとえ話なので、正確じゃないところもあると思う。

ということで、とある世界の話。

#### (1) 認証API以前

[![fig1](https://farm1.staticflickr.com/151/380421437_77308db9b4.jpg "fig1")](http://www.flickr.com/photos/machu/380421437/)

* はてな村やじゅげ村や○○村など、人々は思い思いの所に住んでいる。
* 村の中では村民カードが発行されていて、それぞれの身元が分かる。
* 村民カードは村の外に出ると溶けてしまう。
* そのため、他の村や外の世界のマンションに遊びに行く時は、みんなどこの村の出身か分からない。

#### (2) TypeKey 登場

マネーロンダリング法の改正により、マンションへの入室やデパートでの買い物が厳しくなった世界。

[![fig2](https://farm1.staticflickr.com/160/380422584_c485d9d739.jpg "fig2")](http://www.flickr.com/photos/machu/380422584/)

* XX村が村民カードとは別に、村の外でもちょっとの時間だけ溶けないパスポートを発行するようになった。
  * パスポートは少し時間が経つと溶けてしまう。だから、村民は外に出るたびに新しいパスワードを発行してもらっている。
* マンションやデパートが、パスポートでの身分証明を受け付けるようになった。
* XX村の村民は、外に出ても身分を証明できるようになった。
* はてな村やじゅげ村の人は、身分を証明できないまま。XX村と二重に村籍を取得する人も出てきた。

#### (3) 認証APIの並立

[![fig3](https://farm1.staticflickr.com/181/380422605_778cdfbb64.jpg "fig3")](http://www.flickr.com/photos/machu/380422605/)

* はてな村やじゅげ村もパスポートを発行するようになった。
* ただし、村ごとにパスポートの形や、書かれている言葉が違う。
* マンションはいろんな村のパスポートに対応するのが大変。

#### (4) OpenIDの登場

[![fig4](https://farm1.staticflickr.com/148/380422790_f55546d2b1.jpg "fig4")](http://www.flickr.com/photos/machu/380422790/)

* XX村が新規格のパスポートを提唱する。
* これまでのパスポートと違って、世界共通のフォーマットに準拠。
* しかも、村に住んでいない人の身分も証明してくれる。
* 新規格のパスポートに対応するマンションが増える。
* はてな村やじゅげ村の人たちは、再び二重村籍を取得して、新規格のパスポートを手に入れる人も。

#### (5) OpenIDプロキシサービスの登場

[![fig5](https://farm1.staticflickr.com/187/380422812_45e9fd04e6.jpg "fig5")](http://www.flickr.com/photos/machu/380422812/)

* 村ごとの古いパスポートを新規格のパスポートに交換してくれるサービスが登場。
* はてな村やじゅげ村の人は、出かける際に交換サービスに立ち寄って、新規格のパスポートに交換してもらうようになった。

#### 注意点

繰り返すけど、これはあくまでもたとえ話。 実際には OpenID が新規格ではてな認証APIが旧規格って訳じゃないので注意。

それはそれとして、この世界で新規格のパスポートが普及するかどうか（＝パスポートの交換サービスが繁盛するかどうか）は、世の中のマンションやアパートが対応するかどうかに尽きるんじゃないかな。 必ずしも新規格のパスポートが優れているとも限らないし、旧規格のパスポートが使えるんだったら、無理に新規格に乗り換える必要は無い訳で。

現状だと、そもそも新旧関係なくパスポートが使われているケースが少ないしなぁ。 図で言うと(1)と(2)の間くらいの段階？ ということで、とりあえずはもっとパスポートが使えるマンションやデパートや村が増えるといいかもね。

#### 追記

書き忘れてた. 変換サービスを経由して取得する新規格のパスポートは、発行元は変換サービスになる。 変換サービスがその気になれば、偽のパスポートだって発行できる。 OpenID的には、信頼できる発行元を選ぶのは村民の役割なんだろうけど、これが受け入れられるかどうかが普及の鍵かも。 （別に変換サービスに限らず、XX村のパスポート発行センタだってその気になれば偽パスポートを発行できる）
