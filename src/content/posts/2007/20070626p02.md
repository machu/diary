---
title: JRuby をインストール
date: 2007-06-26T00:00:00.000Z
lastmod: 2008-02-23T02:27:58.000Z
draft: false
tags:
  - ubuntu
  - Ruby
---

アップデートした Ubuntu で遊んでいたら、 JRuby が使えることに気がついた。 手順は以下のとおり。

/etc/apt/source.list に universe を追加する。

```
deb http://jp.archive.ubuntu.com/ubuntu/ gutsy universe multiverse
deb-src http://jp.archive.ubuntu.com/ubuntu/ gutsy universe multiverse
```

パッケージ情報をアップデートすると、 JRuby のパッケージが見えるようになった。

```
$ sudo aptitude update
```

```
$ aptitude search jruby
v   jruby                           -
p   jruby0.9                        - 100% pure-Java implementation of Ruby
p   jruby1.0                        - 100% pure-Java implementation of Ruby
```

```
$ aptitude show jruby1.0
Package: jruby1.0
New: yes
State: installed
Automatically installed: no
Version: 1.0.0~rc2-5
Priority: 任意
Section: universe/interpreters
Maintainer: Ubuntu MOTU Developers <ubuntu-motu@lists.ubuntu.com>
Uncompressed Size: 8880k
Depends: java-gcj-compat | java-virtual-machine, java-gcj-compat | java2-runtime
Provides: jruby
Description: 100% pure-Java implementation of Ruby
 JRuby is an 100% pure-Java implementation of the Ruby programming language.
```

ふむふむ RC2 版っぽい。 さっそくインストールしてみる。

```
$ sudo aptitude install jruby1.0
```

```
$ jruby1.0 -v
ruby 1.8.5 (2007-06-11 rev 3672) [i386-jruby1.0.0RC2]
```

とりあえず Hello World を。

```
$ jruby1.0 -e 'puts "Hello World!"'
Hello World!
```

起動にちょっと時間がかかるのは Java の宿命か。

```
$ time jruby1.0 -e 'puts "Hello!"'
Hello!
jruby1.0 -e 'puts "Hello!"'  1.04s user 0.13s system 100% cpu 1.167 total
```

```
$ time ruby -e 'puts "Hello!"'
Hello!
ruby -e 'puts "Hello!"'  0.00s user 0.00s system 0% cpu 0.007 total
```

Java は GNU 版の VM で動いているみたい。

```
$ java --version
java version "1.5.0"
gij (GNU libgcj) version 4.1.3 20070518 (prerelease) (Ubuntu 4.1.2-8ubuntu1)

Copyright (C) 2006 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
```

Ubuntu には Sun の JDK も入っている。こっちを使うこともできるのかな？

```
$ aptitude search jdk
p   sun-java5-jdk                   - Sun Java(TM) Development Kit (JDK) 5.0
p   sun-java6-jdk                   - Sun Java(TM) Development Kit (JDK) 6
```
