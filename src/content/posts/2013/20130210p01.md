---
title: サーバ上のファイルを TimeMachine でバックアップする
date: 2013-02-10T00:00:00.000Z
lastmod: 2013-02-11T14:50:32.000Z
draft: false
tags:
  - linux
  - Mac
---

そういえばさくらのVPSに引っ越してから、サーバのバックアップ（日記データ）をちゃんと取っていなかった。[以前はrdiff-backup](/posts/20081117/p01)を使ってサーバ間でバックアップしていたが、今は借りているサーバも1台になっている。真面目にやるならduplicityを使うところだが、時間がないので自宅のMac側でcrontabにこのコマンドを登録。

```
2 * * * * rsync -a machu.jp:var/tdiary/data /Users/machu/Documents/Archive/machu.jp/tdiary >/dev/null
```

毎時2分にrsyncを実行し、手元の MacBook Pro にデータを持ってきている。rsyncだけでは世代管理できないけど、MacBook ProにはTime MachineがあるのでこれでOKなのだ。

`サーバ（さくらのVPS） --(rsync)--> 自宅のMac --(Time Machine) --> 外付けHDD`

という仕組み。
