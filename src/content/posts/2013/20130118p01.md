---
title: '[tDiary]本日のリンク元を（Ajax対応で）復活させた'
date: 2013-01-18T00:00:00.000Z
lastmod: 2013-01-19T03:48:44.000Z
draft: false
tags:
  - tDiary
---

負荷対策でずいぶん前から非表示にしていた本日のリンク元を、 Ajax 対応で復活させた。日記の下の方にある「本日のリンク元」ボタンを押すと、サーバからリファラを取得して表示する。非同期で必要なときだけ表示するので、サーバにもやさしい。リンク元表示は結構サーバに負荷がかかるんだよね。

これを機に、プラグインが単独でコンテンツを返す仕組みも実装した[\*1](# "カテゴリプラグインなどは本体に手を入れて実装されている")。5年くらい前からやりたかったことが、ようやく実現できて嬉しい。テンプレート (rhtmlなど) の展開はこれからだけど、まぁボチボチやっていくかな。

* [「本日のリンク元」をAjax化して必要な場合のみ表示 · Issue #37 · tdiary/tdiary-core](https://github.com/tdiary/tdiary-core/issues/37)

master にマージされたので、次のリリース (3.2.1) には含まれる予定。 3.2.1 は性能改善のパッチも入るので、いい感じになってきた。
