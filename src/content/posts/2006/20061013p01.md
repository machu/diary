---
title: Rails に（再）挑戦 8日目 - HikiDoc で改行を改行として表示
date: 2006-10-13T00:00:00.000Z
lastmod: 2006-10-14T04:03:55.000Z
draft: false
tags:
  - Rails
  - Ruby
---

少し日が開いたけど、 Rails 勉強の続き。 RandomNote は、編集画面で入力した改行が、表示画面でも改行として表示される。 一方、 HikiDoc は改行を入力しても、表示画面では一行で表示される。

そこで、 HikiDoc をカスタマイズして、改行を改行として表示するようにする。 改行はインライン要素なので、 lib/hiki\_doc.rb の中の inline\_parser を修正した。

```
   def inline_parser( text )
     text = parse_link( text )
     text = parse_modifier( text )
+    text = text.gsub("\n", "<br />\n")
   end
```

これで[リビジョン17](http://www.machu.jp/trac/note.cgi/changeset/17)になった。
