---
title: TextDrive でサブドメイン
date: 2006-10-21T00:00:00.000Z
lastmod: 2006-10-21T06:44:07.000Z
draft: false
tags:
  - textdrive
---

先日借りた [TextDrive](http://textdrive.com/) をあれこれ触っている。 まず、サブドメインの使い方を覚えよう。

#### やりたいこと

www\.example.com と diary.example.com で違うサイトを表示したい。

#### 現状

デフォルトでは、全てのサブドメイン (\*.example.com) で同じコンテンツが表示される。 Apache の設定ファイルは、以下のようになってる。

```
ServerName example.com
ServerAlias www.example.com *.example.com
```

#### 基本

まず、 [TextDrive Help Desk - 6.4. Creating Virtual Subdomains](http://help.textdrive.com/index.php?pg=kb.page\&id=278) を読む。

> Virtual subdomains are easy to create. Any folder in your /web/public or /public\_html directory (i.e., /users/home/username/web/public/folder/ or /users/home/username/public\_html/folder/) is automatically available at <http://folder.yourdomain.tld/>

なるほど。 diary.example.com だけを分けたい場合は、以下のようにすればいいのか。

```
web/public/ ← www.example.com のコンテンツを置く
web/public/diary/ ← diary.example.com のコンテンツを置く
```

ただし、サブドメインのドキュメントルートがメインドメインのドキュメントルートの下にあるので、

```
http://www.example.com/diary/
```

にアクセスすると

```
http://diary.example.com/
```

と同じ内容のコンテンツが表示されてしまう。

[TextDrive Help Desk - 6.5. Making a Subdomain independent](http://help.textdrive.com/index.php?pg=kb.page\&id=74)を読むと、サブドメインをフルドメインと同じように扱いたい場合は、別ドメインとして管理してねって書いてある。 この場合、ドキュメントは以下のようになる。

```
web/public/ ← www.example.com のコンテンツを置く
domeins/diary.example.com/web/public/ ← diary.example.com のコンテンツを置く
```

ちなみに、管理できるドメイン数には制限があって、[Shared1](http://www.textdrive.com/hosting/shared)プランの場合は5個までとなっている。 （サブドメインとして扱う場合は上限は無さそう）
