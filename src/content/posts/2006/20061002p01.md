---
title: Rails に（再）挑戦
date: 2006-10-02T00:00:00.000Z
lastmod: 2006-10-03T17:26:05.000Z
draft: false
tags:
  - Ruby
  - Rails
---

[Rails本](/posts/20060222/p01)を買ってから半年が経つのに、全然 Rails を使ってない。 少し時間が出来たので、 Rails に再挑戦してみた。 試しに何かを作るのが一番！ということで、 ninjin さんの [RandomNote](http://www.hyuki.com/yukiwiki/wiki.cgi?RandomNote) を Rails で作ってみる。 なぜ RandomNote かというと、 Wiki よりは実装が楽そうだから…ってのもあるけど、できれば自分で使いたいから。

ちなみに、調べてみると Rails で Wiki を作った記録を残してあるサイトがいくつかあった。 よく整理されていて分かりやすいな…。

- [RoR Wiki 翻訳 Wiki - Wikiを作ってみる](http://techno.hippy.jp/rorwiki/?Wiki%A4%F2%BA%EE%A4%C3%A4%C6%A4%DF%A4%EB)
- [pylori\*style wiki - RailsでWikiクローンを作る](http://tam.qmix.org/wiki/Minki00.html)

ここまで綺麗には整理できないだろうけど、自分で試行錯誤した記録を残してみるよ。

#### Rails のセットアップ

環境は VMware 上で動かしている Debian Sarge を使う。 まずは Rails のセットアップからおさらい。

```
$ sudo aptitude install ruby ruby-dev ri irb libopenssl-ruby
$ wget http://rubyforge.org/frs/download.php/5207/rubygems-0.8.11.tgz
$ tar zxvf rubygems-0.8.11.tgz
$ cd rubygems-0.8.11
$ sudo ruby setup.rb
$ sudo gem install rails

$ sudo aptitude install sqlite3 libsqlite3-dev
$ sudo gem install sqlite3-ruby
```

データベースはセットアップが楽な SQLite3 を使う。 本体は Debian パッケージでインストールし、 Ruby バインディングは RubyGems を使ってインストールした。 「libsqlite3-dev」が無いと sqlite3-dev は入らないので注意。

#### プロジェクトの作成

セットアップが終わったら、いよいよプロジェクトを作る。 プロジェクト名は RandomNote の頭文字を取って rn とした。

```
$ rails -d sqlite3 rn
$ cd rn
```

-d オプションでデータベース (sqlite3) を指定している。 これで、 config/database.yml のテンプレートが sqlite3 のものになる。 参考までに、ファイルの中身は以下の通り。特に修正する必要はなさそう。

```
development:
  adapter: sqlite3
  database: db/development.sqlite3

test:
  adapter: sqlite3
  database: db/test.sqlite3

production:
  adapter: sqlite3
  database: db/production.sqlite3
```
