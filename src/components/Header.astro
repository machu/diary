---
/**
 * サイト共通ヘッダー
 * - 左: サイトタイトル（トップへ）
 * - 右: 最新 / タグ / 年別 へのナビゲーション
 */
---
<header class="border-b border-border bg-[#e9f4fb] dark:bg-[#0f1f2d]">
  <div class="container flex items-center justify-between py-4">
    <a href="/" class="text-lg font-bold">まちゅダイアリー</a>
    <nav class="text-sm flex items-center gap-4">
      <a href="/" class="hover:underline">最新</a>
      <a href="/tags" class="hover:underline">タグ</a>
      <a href="/years" class="hover:underline">年別</a>
      <button id="theme-toggle" class="ml-2 inline-flex items-center rounded-md border bg-background px-2 py-1 hover:bg-muted" aria-label="テーマ切り替え" title="テーマ切り替え">
        <i class="fa-solid fa-moon block dark:hidden"></i>
        <i class="fa-solid fa-sun hidden dark:block"></i>
      </button>
    </nav>
  </div>

  <script>
    const root = document.documentElement;
    const key = 'theme';
    const btn = document.getElementById('theme-toggle');
    function setTheme(t: 'light' | 'dark') {
      if (t === 'dark') root.classList.add('dark'); else root.classList.remove('dark');
      try { localStorage.setItem(key, t); } catch (_) {}
    }
    btn?.addEventListener('click', () => {
      const next = root.classList.contains('dark') ? 'light' : 'dark';
      setTheme(next);
    });
  </script>
</header>
